<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>منوی کافه</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-gray-800 shadow p-4 flex justify-between items-center">
    <h1 class="text-xl font-bold">منوی کافه</h1>
    <button id="cart-btn" class="relative">
      <i data-lucide="shopping-cart" class="w-6 h-6"></i>
      <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-xs px-2 py-0.5 rounded-full">0</span>
    </button>
  </header>

  <!-- Main -->
  <main class="flex-1 container mx-auto p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    
    <!-- نوشیدنی های گرم -->
    <section class="bg-gray-800 rounded-2xl shadow p-4">
      <h2 class="text-lg font-bold mb-3">نوشیدنی های گرم</h2>
      <ul class="space-y-2">
        <li class="flex justify-between items-center">
          <span>اسپرسو</span>
          <button onclick="addToCart('اسپرسو', 25000)" class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded">۲۵۰۰۰ تومان</button>
        </li>
        <li class="flex justify-between items-center">
          <span>دوپیو</span>
          <button onclick="addToCart('دوپیو', 25000)" class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded">۲۵۰۰۰ تومان</button>
        </li>
        <li class="flex justify-between items-center">
          <span>قهوه ترک</span>
          <button onclick="addToCart('قهوه ترک', 25000)" class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded">۲۵۰۰۰ تومان</button>
        </li>
      </ul>
    </section>

    <!-- نوشیدنی های سرد -->
    <section class="bg-gray-800 rounded-2xl shadow p-4">
      <h2 class="text-lg font-bold mb-3">نوشیدنی های سرد</h2>
      <ul class="space-y-2">
        <li class="flex justify-between items-center">
          <span>آیس لاته</span>
          <button onclick="addToCart('آیس لاته', 25000)" class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded">۲۵۰۰۰ تومان</button>
        </li>
        <li class="flex justify-between items-center">
          <span>موهیتو</span>
          <button onclick="addToCart('موهیتو', 25000)" class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded">۲۵۰۰۰ تومان</button>
        </li>
        <li class="flex justify-between items-center">
          <span>آیس تی</span>
          <button onclick="addToCart('آیس تی', 25000)" class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded">۲۵۰۰۰ تومان</button>
        </li>
      </ul>
    </section>

    <!-- کیک و دمنوش -->
    <section class="bg-gray-800 rounded-2xl shadow p-4">
      <h2 class="text-lg font-bold mb-3">کیک و دمنوش</h2>
      <ul class="space-y-2">
        <li class="flex justify-between items-center">
          <span>کیک شکلاتی</span>
          <button onclick="addToCart('کیک شکلاتی', 25000)" class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded">۲۵۰۰۰ تومان</button>
        </li>
        <li class="flex justify-between items-center">
          <span>چای زعفران</span>
          <button onclick="addToCart('چای زعفران', 25000)" class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded">۲۵۰۰۰ تومان</button>
        </li>
        <li class="flex justify-between items-center">
          <span>دمنوش دارچین</span>
          <button onclick="addToCart('دمنوش دارچین', 25000)" class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded">۲۵۰۰۰ تومان</button>
        </li>
      </ul>
    </section>

  </main>

  <!-- Footer -->
  <footer class="bg-gray-800 text-center p-4">
    <p>طراحی شده توسط <span class="font-bold">TarhSara</span></p>
  </footer>

  <!-- Cart Sidebar -->
  <div id="cart-sidebar" class="fixed top-0 right-0 w-80 h-full bg-gray-900 shadow-lg transform translate-x-full transition-transform duration-300 p-4 flex flex-col">
    <h2 class="text-xl font-bold mb-4">سبد خرید</h2>
    <ul id="cart-items" class="flex-1 space-y-2 overflow-y-auto"></ul>
    <div class="border-t border-gray-700 pt-3 space-y-2">
      <p class="mb-2">مجموع: <span id="cart-total">۰</span> تومان</p>
      <button onclick="sendToWhatsApp()" class="w-full bg-green-600 hover:bg-green-700 px-4 py-2 rounded">ارسال به واتساپ</button>
      <button onclick="sendToTelegram()" class="w-full bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded">ارسال به تلگرام</button>
    </div>
  </div>

  <script>
    lucide.createIcons();

    let cart = [];
    const cartSidebar = document.getElementById("cart-sidebar");
    const cartItems = document.getElementById("cart-items");
    const cartTotal = document.getElementById("cart-total");
    const cartCount = document.getElementById("cart-count");

    function addToCart(name, price) {
      cart.push({ name, price });
      updateCart();
    }

    function updateCart() {
      cartItems.innerHTML = "";
      let total = 0;
      cart.forEach((item, index) => {
        total += item.price;
        let li = document.createElement("li");
        li.className = "flex justify-between items-center bg-gray-800 p-2 rounded";
        li.innerHTML = `
          <span>${item.name}</span>
          <button onclick="removeFromCart(${index})" class="text-red-500">❌</button>
        `;
        cartItems.appendChild(li);
      });
      cartTotal.textContent = total.toLocaleString("fa-IR");
      cartCount.textContent = cart.length;
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      updateCart();
    }

    document.getElementById("cart-btn").addEventListener("click", () => {
      cartSidebar.classList.toggle("translate-x-full");
    });

    // 🟢 واتساپ
    function sendToWhatsApp() {
      if (cart.length === 0) {
        alert("سبد خرید خالی است!");
        return;
      }

      let message = "🛒 سفارش جدید:\n\n";
      cart.forEach(item => {
        message += `• ${item.name} - ${item.price.toLocaleString("fa-IR")} تومان\n`;
      });
      let total = cart.reduce((sum, item) => sum + item.price, 0);
      message += `\n💰 مجموع: ${total.toLocaleString("fa-IR")} تومان`;

      let phoneNumber = "989123456789"; // شماره واتساپ
      let url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
      window.open(url, "_blank");
    }

    // 🔵 تلگرام
    function sendToTelegram() {
      if (cart.length === 0) {
        alert("سبد خرید خالی است!");
        return;
      }

      let message = "🛒 سفارش جدید:\n\n";
      cart.forEach(item => {
        message += `• ${item.name} - ${item.price.toLocaleString("fa-IR")} تومان\n`;
      });
      let total = cart.reduce((sum, item) => sum + item.price, 0);
      message += `\n💰 مجموع: ${total.toLocaleString("fa-IR")} تومان`;

      let telegramUser = "YourTelegramUsername"; // 👈 یوزرنیم تلگرام خودت
      let url = `https://t.me/${telegramUser}?text=${encodeURIComponent(message)}`;
      window.open(url, "_blank");
    }
  </script>
</body>
</html>
